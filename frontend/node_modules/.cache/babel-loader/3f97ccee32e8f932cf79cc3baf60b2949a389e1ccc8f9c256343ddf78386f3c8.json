{"ast":null,"code":"var _jsxFileName = \"/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/src/Data/PersonalData.tsx\",\n  _s = $RefreshSig$();\nimport { Button, Dialog, Divider, Grid, IconButton, ListItemText, Typography } from \"@mui/material\";\nimport '../App.css';\nimport React, { useEffect, useState } from \"react\";\nimport UpperButtonMenu from \"../Utils/UpperButtonMenu\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { authorizeBonusAccess, authorizeVaccineAccess, getLoggedUser, isInstanceOfUser, updateUser } from \"../APIs/UsersAPI\";\nimport AuthRequired from \"./AuthRequired\";\nimport dayjs from \"dayjs\";\nimport { Android12Switch, CssTextField } from \"../Utils/CustomTextFields\";\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport List from \"@mui/material/List\";\nimport { getAllBonuses, getAllVaccines } from \"../APIs/ExternalResourcesAPI\";\nimport Stack from '@mui/material/Stack';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport VaccinesIcon from '@mui/icons-material/Vaccines';\nimport { isInstanceOfAuthError, logoutUser } from \"../APIs/OauthAPI\";\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport Box from '@mui/material/Box';\nimport { AppBar } from \"@mui/material\";\nimport Toolbar from '@mui/material/Toolbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PersonalData = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const tokenData = location.state.token;\n  const buttons = ['Dati', 'Vaccini', 'Bonus'];\n  const [dataList, setDataList] = useState([]);\n  const [vaccinesList, setVaccinesList] = useState([]);\n  const [bonusList, setBonusList] = useState([]);\n  const [showingList, setShowingList] = useState(dataList);\n  const [activeButton, setActiveButton] = useState(buttons[0]);\n  const [clickedVaccine, setClickedVaccine] = useState(null);\n  const [clickedBonus, setClickedBonus] = useState(null);\n  const [showBonusAuthorizationRequiredMessage, setShowBonusAuthorizationRequiredMessage] = useState(false);\n  const [showVaccineAuthorizationRequiredMessage, setShowVaccineAuthorizationRequiredMessage] = useState(false);\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [birthDate, setBirthDate] = useState(null);\n  const [residence, setResidence] = useState('');\n  const [domicile, setDomicile] = useState('');\n  const [telephonNumber, setTelephonNumber] = useState(0);\n  const [fiscalCode, setFiscalCode] = useState('');\n  const [message, setMessage] = useState('');\n  const [bonusAccess, setBonusAccess] = useState(null);\n  const [vaccineAccess, setVaccineAccess] = useState(null);\n  useEffect(() => {\n    if (user === null) {\n      somethingChanged();\n    }\n  });\n  useEffect(() => {\n    if (user !== null) {\n      setName(user.name);\n      setSurname(user.surname);\n      setBirthDate(user.birthDate !== 0 ? dayjs.unix(user.birthDate) : null);\n      setResidence(user.residence);\n      setDomicile(user.domicile);\n      setTelephonNumber(user.telephonNumber);\n      setFiscalCode(user.fiscalCode);\n      setBonusAccess(user.authorizeBonus);\n      setVaccineAccess(user.authorizeVaccine);\n    }\n  }, [user]);\n  const somethingChanged = async message => {\n    const response = await getLoggedUser(tokenData);\n    if (isInstanceOfUser(response)) {\n      setUser(response);\n      if (message) {\n        handleClick();\n        setMessage(message);\n      }\n    } else {\n      navigate('/error', {\n        state: {\n          error: response\n        }\n      });\n    }\n  };\n  const Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      ref: ref,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 16\n    }, this);\n  });\n  const handleNameChanged = event => {\n    setName(event.target.value);\n  };\n  const handleSurnameChanged = event => {\n    setSurname(event.target.value);\n  };\n  const handleBirthDateChanged = newValue => {\n    if (dayjs(newValue, 'DD/MM/YYYY', true).isValid()) {\n      setBirthDate(newValue);\n    } else {\n      console.log(\"Invalid date\");\n    }\n  };\n  const handleResidenceChanged = event => {\n    setResidence(event.target.value);\n  };\n  const handleDomicileChanged = event => {\n    setDomicile(event.target.value);\n  };\n  const handleTelephoneNumberChanged = event => {\n    setTelephonNumber(parseInt(event.target.value));\n  };\n  const handleFiscalCodeChanged = event => {\n    setFiscalCode(event.target.value);\n  };\n  const loadBonuses = async () => {\n    const bonuslist = await getAllBonuses(tokenData);\n    if (isInstanceOfAuthError(bonuslist)) {\n      navigate('/error', {\n        state: {\n          error: bonuslist\n        }\n      });\n    } else {\n      setBonusList(bonuslist);\n      setShowBonusAuthorizationRequiredMessage(false);\n      somethingChanged();\n    }\n  };\n  const loadVaccines = async () => {\n    const vaccineList = await getAllVaccines(tokenData);\n    if (isInstanceOfAuthError(vaccineList)) {\n      navigate('/error', {\n        state: {\n          error: vaccineList\n        }\n      });\n    } else {\n      setVaccinesList(vaccineList);\n      setShowVaccineAuthorizationRequiredMessage(false);\n      somethingChanged();\n    }\n  };\n  const [open, setOpen] = useState(false);\n  const handleClick = () => {\n    setOpen(true);\n  };\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpen(false);\n  };\n  function toTimestamp(strDate) {\n    console.log(strDate);\n    const datum = Date.parse(strDate);\n    console.log(datum);\n    console.log(datum / 1000);\n    return datum / 1000;\n  }\n  function checkDataChanged(date, oldDate) {\n    if (date === null) {\n      return false;\n    } else {\n      return date.unix() !== oldDate;\n    }\n  }\n  const updateUserData = async () => {\n    if (user) {\n      console.log('Bonus Access: ' + bonusAccess);\n      console.log('Vaccine Access: ' + vaccineAccess);\n      const newUser = {\n        email: user.email,\n        name: name,\n        surname: surname,\n        admin: user.admin,\n        fiscalCode: fiscalCode,\n        residence: residence,\n        birthDate: birthDate && checkDataChanged(birthDate, user.birthDate) ? toTimestamp(birthDate.toString()) : user.birthDate,\n        domicile: domicile,\n        status: user.status,\n        telephonNumber: Number(telephonNumber),\n        authorizeBonus: bonusAccess !== null ? bonusAccess : user.authorizeBonus,\n        authorizeVaccine: vaccineAccess !== null ? vaccineAccess : user.authorizeVaccine\n      };\n      console.log('newUser', newUser);\n      return await updateUser(tokenData, newUser);\n    }\n    return false;\n  };\n  const authBonus = async () => {\n    const updateResult = await authorizeBonusAccess(tokenData);\n    if (updateResult) {\n      loadBonuses();\n      setShowBonusAuthorizationRequiredMessage(false);\n      somethingChanged();\n    }\n  };\n  const authVaccine = async () => {\n    const updateResult = await authorizeVaccineAccess(tokenData);\n    if (updateResult) {\n      loadVaccines();\n      setShowVaccineAuthorizationRequiredMessage(false);\n      somethingChanged();\n    }\n  };\n  const handleVaccineAuthorizationChanged = event => {\n    console.log('VACCINI A: ', event.target.checked);\n    setVaccineAccess(event.target.checked);\n  };\n  const handleBonusAuthorizationChanged = event => {\n    console.log('BONUS A: ', event.target.checked);\n    setBonusAccess(event.target.checked);\n  };\n  useEffect(() => {\n    if (user) {\n      if (activeButton === buttons[0]) {\n        setShowBonusAuthorizationRequiredMessage(false);\n        setShowVaccineAuthorizationRequiredMessage(false);\n      } else if (activeButton === buttons[1]) {\n        setShowBonusAuthorizationRequiredMessage(false);\n        if (!user.authorizeVaccine) {\n          setShowVaccineAuthorizationRequiredMessage(true);\n        } else {\n          loadVaccines();\n        }\n      } else if (activeButton === buttons[2]) {\n        setShowVaccineAuthorizationRequiredMessage(false);\n        if (!user.authorizeBonus) {\n          setShowBonusAuthorizationRequiredMessage(true);\n        } else {\n          loadBonuses();\n        }\n      }\n    }\n  }, [activeButton]);\n  const handleOperation = async () => {\n    if (activeButton === buttons[0]) {\n      const update = await updateUserData();\n      if (update) {\n        somethingChanged('Dati aggiornati correttamente');\n      }\n    } else if (activeButton === buttons[1]) {// qui forse si farà una specie di reload, DA VALUTARE\n    } else if (activeButton === buttons[2]) {}\n  };\n  const handleDialogOpen = data => {\n    if (activeButton === buttons[1]) {\n      setClickedVaccine(data);\n    } else if (activeButton === buttons[2]) {\n      setClickedBonus(data);\n    }\n  };\n  const handleDialogClose = () => {\n    setClickedVaccine(null);\n    setClickedBonus(null);\n  };\n  const logout = async () => {\n    if (tokenData !== null) {\n      const response = await logoutUser(tokenData);\n      if (typeof response === 'boolean') {\n        if (response) {\n          navigate('/');\n        } else {\n          console.log('error');\n        }\n      } else {\n        navigate('/error', {\n          state: {\n            error: response\n          }\n        });\n      }\n    }\n  };\n  const goBack = () => {\n    navigate(-1);\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"row\",\n    spacing: 2,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(AppBar, {\n          position: \"fixed\",\n          sx: {\n            backgroundColor: '#3d4347'\n          },\n          children: /*#__PURE__*/_jsxDEV(Toolbar, {\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              edge: \"start\",\n              \"aria-label\": \"menu\",\n              sx: {\n                mr: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n                onClick: goBack,\n                sx: {\n                  fontSize: '3rem',\n                  color: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              component: \"div\",\n              sx: {\n                flexGrow: 1\n              },\n              style: {\n                justifyContent: 'center',\n                color: 'white',\n                textAlign: 'center',\n                fontSize: '1.8rem'\n              },\n              children: \"I tuoi dati\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              sx: {\n                color: 'white',\n                backgroundColor: 'red'\n              },\n              onClick: logout,\n              children: \"logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(UpperButtonMenu, {\n      first_label: buttons[0],\n      second_label: buttons[1],\n      third_label: buttons[2],\n      first_list: dataList,\n      second_list: vaccinesList,\n      third_list: bonusList,\n      listSetter: setShowingList,\n      buttonSetter: setActiveButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 13\n    }, this), showBonusAuthorizationRequiredMessage || showVaccineAuthorizationRequiredMessage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(AuthRequired, {\n        authFor: showVaccineAuthorizationRequiredMessage ? 'Vaccini' : 'Bonus',\n        authFunction: showVaccineAuthorizationRequiredMessage ? authVaccine : authBonus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 25\n      }, this)\n    }, void 0, false) : null, activeButton === buttons[2] && bonusList.length === 0 && user && user.authorizeBonus ? /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          paddingLeft: '10px',\n          paddingRight: '10px',\n          textAlign: 'center'\n        },\n        children: \"Non possiedi bonus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 21\n    }, this) : null, activeButton === buttons[1] && vaccinesList.length === 0 && user && user.authorizeVaccine ? /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          paddingLeft: '10px',\n          paddingRight: '10px',\n          textAlign: 'center'\n        },\n        children: \"Non possiedi vaccini\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 21\n    }, this) : null, /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(List, {\n        sx: {\n          width: '85%',\n          overflow: 'auto',\n          maxHeight: 550,\n          position: activeButton === buttons[0] ? 'fixed' : showBonusAuthorizationRequiredMessage || showVaccineAuthorizationRequiredMessage ? null : 'fixed',\n          top: '20%',\n          bottom: '1%'\n        },\n        children: user ? activeButton === buttons[0] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Nome',\n            defaultValue: user.name,\n            onChange: handleNameChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Cognome',\n            defaultValue: user.surname,\n            onChange: handleSurnameChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Email',\n            defaultValue: user.email,\n            InputProps: {\n              readOnly: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Numero di telefono',\n            defaultValue: user.telephonNumber,\n            onChange: handleTelephoneNumberChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Codice fiscale',\n            defaultValue: user.fiscalCode,\n            onChange: handleFiscalCodeChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Residenza',\n            defaultValue: user.residence,\n            onChange: handleResidenceChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Domicilio',\n            defaultValue: user.domicile,\n            onChange: handleDomicileChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n            dateAdapter: AdapterDayjs,\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              inputFormat: \"DD/MM/YYYY\",\n              label: \"Data di nascita\",\n              value: birthDate,\n              renderInput: params => /*#__PURE__*/_jsxDEV(CssTextField, {\n                ...params,\n                sx: {\n                  input: {\n                    color: 'white'\n                  },\n                  style: {\n                    color: 'white'\n                  },\n                  marginTop: '9px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 70\n              }, this),\n              onChange: newValue => {\n                handleBirthDateChanged(newValue);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n            sx: {\n              input: {\n                color: 'white'\n              },\n              style: {\n                color: 'white'\n              },\n              marginTop: '9px'\n            },\n            label: 'Stato',\n            defaultValue: user.status,\n            InputProps: {\n              readOnly: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            sx: {\n              marginTop: '10px',\n              fontSize: '3rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              component: \"fieldset\",\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                component: \"legend\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  sx: {\n                    color: 'white',\n                    justifyContent: 'center',\n                    fontWeight: 'bold'\n                  },\n                  children: \"Consenti a CivicLife di accedere a:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                \"aria-label\": \"position\",\n                row: true,\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Android12Switch, {\n                    checked: vaccineAccess !== null ? vaccineAccess : false,\n                    onChange: handleVaccineAuthorizationChanged,\n                    inputProps: {\n                      'aria-label': 'controlled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 53\n                  }, this),\n                  label: \"Vaccini?\",\n                  labelPlacement: 'top'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Android12Switch, {\n                    checked: bonusAccess !== null ? bonusAccess : false,\n                    onChange: handleBonusAuthorizationChanged,\n                    inputProps: {\n                      'aria-label': 'controlled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 53\n                  }, this),\n                  label: \"Bonus?\",\n                  labelPlacement: 'top'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) : activeButton === buttons[1] ? vaccinesList.map((value, index) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemButton, {\n              onClick: () => handleDialogOpen(value),\n              children: [/*#__PURE__*/_jsxDEV(VaccinesIcon, {\n                sx: {\n                  color: 'white',\n                  marginRight: '10px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: value.vaccineName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              color: 'black'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true);\n        }) : bonusList.map((value, index) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ListItemButton, {\n              onClick: () => handleDialogOpen(value),\n              children: [/*#__PURE__*/_jsxDEV(AddBoxIcon, {\n                sx: {\n                  color: 'white',\n                  marginRight: '10px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: value.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 57\n              }, this)]\n            }, value.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 53\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              color: 'black'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true);\n        }) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }, this), showBonusAuthorizationRequiredMessage || showVaccineAuthorizationRequiredMessage ? null : /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"right\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          borderRadius: 35,\n          backgroundColor: \"#92d36e\",\n          padding: \"10px 20px\",\n          fontSize: \"18px\",\n          position: 'fixed',\n          bottom: 30\n        },\n        variant: \"contained\",\n        onClick: () => {\n          handleOperation();\n        },\n        children: activeButton === buttons[0] ? 'Salva' : activeButton === buttons[1] ? 'Aggiungi Vaccino' : 'aggiungi Bonus'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      maxWidth: \"sm\",\n      fullWidth: true,\n      open: clickedVaccine !== null,\n      onClose: handleDialogClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Dettagli vaccino\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Nome Vaccino:',\n            secondary: clickedVaccine ? clickedVaccine.vaccineName : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Luogo Somministrazione:',\n            secondary: clickedVaccine ? clickedVaccine.location : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Data somministrazione:',\n            secondary: clickedVaccine ? dayjs.unix(clickedVaccine.date).format('D MMMM YYYY').toString() : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Descrizione Vaccino:',\n            secondary: clickedVaccine ? clickedVaccine.description : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Dose n°: ',\n            secondary: clickedVaccine ? clickedVaccine.dose : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Casa produttrice:',\n            secondary: clickedVaccine ? clickedVaccine.manufacturer : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            secondaryTypographyProps: {\n              fontSize: '15px'\n            },\n            primary: 'Medico',\n            secondary: clickedVaccine ? clickedVaccine.doctor : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Infermiere',\n            secondary: clickedVaccine ? clickedVaccine.nurse : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDialogClose,\n          children: \"Chiudi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      maxWidth: \"sm\",\n      fullWidth: true,\n      open: clickedBonus !== null,\n      onClose: handleDialogClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Dettagli bonus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Nome Bonus',\n            secondary: clickedBonus ? clickedBonus.name : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Tipo Bonus',\n            secondary: clickedBonus ? clickedBonus.type : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Data scadenza',\n            secondary: clickedBonus ? dayjs.unix(clickedBonus.end_date / 1000).format('D MMMM YYYY').toString() : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primaryTypographyProps: {\n              fontWeight: 'bold'\n            },\n            primary: 'Descrizione',\n            secondary: clickedBonus ? clickedBonus.description : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDialogClose,\n          children: \"Chiudi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      sx: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 3000,\n        onClose: handleClose,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleClose,\n          severity: \"success\",\n          sx: {\n            width: '100%'\n          },\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 9\n  }, this);\n};\n_s(PersonalData, \"zXHaQwO74FpMWM9HYrs29IyPu0k=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = PersonalData;\nexport default PersonalData;\nvar _c;\n$RefreshReg$(_c, \"PersonalData\");","map":{"version":3,"names":["Button","Dialog","Divider","Grid","IconButton","ListItemText","Typography","React","useEffect","useState","UpperButtonMenu","DialogTitle","DialogContent","DialogActions","DialogContentText","useLocation","useNavigate","authorizeBonusAccess","authorizeVaccineAccess","getLoggedUser","isInstanceOfUser","updateUser","AuthRequired","dayjs","Android12Switch","CssTextField","DatePicker","LocalizationProvider","AdapterDayjs","ListItemButton","List","getAllBonuses","getAllVaccines","Stack","Snackbar","MuiAlert","AddBoxIcon","VaccinesIcon","isInstanceOfAuthError","logoutUser","FormGroup","FormControlLabel","FormControl","FormLabel","ArrowBackIcon","Box","AppBar","Toolbar","PersonalData","location","navigate","user","setUser","tokenData","state","token","buttons","dataList","setDataList","vaccinesList","setVaccinesList","bonusList","setBonusList","showingList","setShowingList","activeButton","setActiveButton","clickedVaccine","setClickedVaccine","clickedBonus","setClickedBonus","showBonusAuthorizationRequiredMessage","setShowBonusAuthorizationRequiredMessage","showVaccineAuthorizationRequiredMessage","setShowVaccineAuthorizationRequiredMessage","name","setName","surname","setSurname","birthDate","setBirthDate","residence","setResidence","domicile","setDomicile","telephonNumber","setTelephonNumber","fiscalCode","setFiscalCode","message","setMessage","bonusAccess","setBonusAccess","vaccineAccess","setVaccineAccess","somethingChanged","unix","authorizeBonus","authorizeVaccine","response","handleClick","error","Alert","forwardRef","props","ref","handleNameChanged","event","target","value","handleSurnameChanged","handleBirthDateChanged","newValue","isValid","console","log","handleResidenceChanged","handleDomicileChanged","handleTelephoneNumberChanged","parseInt","handleFiscalCodeChanged","loadBonuses","bonuslist","loadVaccines","vaccineList","open","setOpen","handleClose","reason","toTimestamp","strDate","datum","Date","parse","checkDataChanged","date","oldDate","updateUserData","newUser","email","admin","toString","status","Number","authBonus","updateResult","authVaccine","handleVaccineAuthorizationChanged","checked","handleBonusAuthorizationChanged","handleOperation","update","handleDialogOpen","data","handleDialogClose","logout","goBack","flexGrow","backgroundColor","mr","fontSize","color","justifyContent","textAlign","length","paddingLeft","paddingRight","width","overflow","maxHeight","position","top","bottom","input","style","marginTop","readOnly","params","fontWeight","map","index","marginRight","vaccineName","id","borderRadius","padding","format","description","dose","manufacturer","doctor","nurse","type","end_date","vertical","horizontal"],"sources":["/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/src/Data/PersonalData.tsx"],"sourcesContent":["import {Button, Dialog, Divider, Grid, IconButton, ListItemText, Typography,} from \"@mui/material\";\nimport '../App.css'\nimport React, {useEffect, useState} from \"react\";\nimport UpperButtonMenu from \"../Utils/UpperButtonMenu\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport {useLocation, useNavigate} from \"react-router-dom\";\nimport type {User} from \"../APIs/UsersAPI\";\nimport {\n    authorizeBonusAccess,\n    authorizeVaccineAccess,\n    getLoggedUser,\n    isInstanceOfUser,\n    updateUser\n} from \"../APIs/UsersAPI\";\nimport AuthRequired from \"./AuthRequired\";\nimport dayjs, {Dayjs} from \"dayjs\";\nimport {Android12Switch, CssTextField} from \"../Utils/CustomTextFields\";\nimport {DatePicker, LocalizationProvider} from \"@mui/x-date-pickers\";\nimport {AdapterDayjs} from \"@mui/x-date-pickers/AdapterDayjs\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport List from \"@mui/material/List\";\nimport {BonusType, getAllBonuses, getAllVaccines, VaccineType} from \"../APIs/ExternalResourcesAPI\";\nimport Stack from '@mui/material/Stack';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert, {AlertProps} from '@mui/material/Alert';\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport VaccinesIcon from '@mui/icons-material/Vaccines';\nimport {AuthError, isInstanceOfAuthError, logoutUser} from \"../APIs/OauthAPI\";\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport Box from '@mui/material/Box';\nimport {AppBar} from \"@mui/material\";\nimport Toolbar from '@mui/material/Toolbar';\n\n\n\nconst PersonalData = () => {\n    const location = useLocation()\n    const navigate = useNavigate()\n    const [user, setUser] = useState<User | null>(null)\n    const tokenData = location.state.token\n    const buttons = ['Dati', 'Vaccini', 'Bonus']\n    const [dataList, setDataList] = useState([])\n    const [vaccinesList, setVaccinesList] = useState<VaccineType[]>([])\n    const [bonusList, setBonusList] = useState<BonusType[]>([])\n    const [showingList, setShowingList] = useState(dataList)\n    const [activeButton, setActiveButton] = useState(buttons[0]);\n    const [clickedVaccine, setClickedVaccine] = useState<VaccineType | null>(null)\n    const [clickedBonus, setClickedBonus] = useState<BonusType | null>(null)\n    const [showBonusAuthorizationRequiredMessage, setShowBonusAuthorizationRequiredMessage] = useState(false)\n    const [showVaccineAuthorizationRequiredMessage, setShowVaccineAuthorizationRequiredMessage] = useState(false)\n\n    const [name, setName] = useState<string>('')\n    const [surname, setSurname] = useState<string>('')\n    const [birthDate, setBirthDate] = useState<Dayjs | null>(null)\n    const [residence, setResidence] = useState<string>('')\n    const [domicile, setDomicile] = useState<string>('')\n    const [telephonNumber, setTelephonNumber] = useState<number>(0)\n    const [fiscalCode, setFiscalCode] = useState<string>('')\n    const [message, setMessage] = useState<string>('')\n    const [bonusAccess, setBonusAccess] = useState<boolean | null>(null)\n    const [vaccineAccess, setVaccineAccess] = useState<boolean | null>(null)\n\n    useEffect(() => {\n        if (user === null) {\n            somethingChanged()\n        }\n    })\n\n    useEffect(() => {\n        if (user !== null) {\n            setName(user.name)\n            setSurname(user.surname)\n            setBirthDate(user.birthDate !== 0 ? dayjs.unix(user.birthDate): null )\n            setResidence(user.residence)\n            setDomicile(user.domicile)\n            setTelephonNumber(user.telephonNumber)\n            setFiscalCode(user.fiscalCode)\n            setBonusAccess(user.authorizeBonus)\n            setVaccineAccess(user.authorizeVaccine)\n        }\n    }, [user])\n\n    const somethingChanged = async (message?: string) => {\n        const response = await getLoggedUser(tokenData)\n        if (isInstanceOfUser(response)) {\n            setUser(response)\n            if (message) {\n                handleClick()\n                setMessage(message)\n            }\n        } else {\n            navigate('/error', {state: {error: response}})\n        }\n\n    }\n\n    const Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n        props,\n        ref,\n    ) {\n        return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n    });\n\n    const handleNameChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setName(event.target.value);\n    }\n    const handleSurnameChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setSurname(event.target.value);\n    }\n\n    const handleBirthDateChanged = (newValue: Dayjs | null) => {\n        if (dayjs(newValue, 'DD/MM/YYYY', true).isValid()) {\n            setBirthDate(newValue);\n        }\n        else{\n            console.log(\"Invalid date\")\n        }\n    }\n    const handleResidenceChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setResidence(event.target.value);\n    }\n    const handleDomicileChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setDomicile(event.target.value);\n    }\n    const handleTelephoneNumberChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setTelephonNumber(parseInt(event.target.value));\n    }\n    const handleFiscalCodeChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFiscalCode(event.target.value);\n    }\n\n    const loadBonuses = async () => {\n        const bonuslist = await getAllBonuses(tokenData)\n        if(isInstanceOfAuthError(bonuslist)){\n            navigate('/error', {state: {error: bonuslist}})\n        }\n        else{\n            setBonusList(bonuslist)\n            setShowBonusAuthorizationRequiredMessage(false)\n            somethingChanged()\n        }\n    }\n\n    const loadVaccines = async () => {\n        const vaccineList = await getAllVaccines(tokenData)\n        if(isInstanceOfAuthError(vaccineList)){\n            navigate('/error', {state: {error: vaccineList}})\n        }\n        else{\n            setVaccinesList(vaccineList)\n            setShowVaccineAuthorizationRequiredMessage(false)\n            somethingChanged()\n        }\n    }\n\n    const [open, setOpen] = useState(false);\n\n    const handleClick = () => {\n        setOpen(true);\n    };\n\n    const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpen(false);\n    };\n\n    function toTimestamp(strDate: string){\n        console.log(strDate)\n        const datum = Date.parse(strDate);\n        console.log(datum)\n        console.log(datum/1000)\n        return datum/1000;\n    }\n\n    function checkDataChanged(date: Dayjs | null, oldDate: number){\n        if(date === null){\n            return false\n        }\n        else{\n            return date.unix() !== oldDate\n        }\n    }\n\n    const updateUserData = async (): Promise<boolean | AuthError> => {\n        if (user) {\n            console.log('Bonus Access: ' + bonusAccess)\n            console.log('Vaccine Access: ' + vaccineAccess)\n            const newUser: User = {\n                email: user.email,\n                name: name,\n                surname: surname,\n                admin: user.admin,\n                fiscalCode: fiscalCode,\n                residence: residence,\n                birthDate: birthDate && checkDataChanged(birthDate, user.birthDate) ? toTimestamp(birthDate.toString()) : user.birthDate,\n                domicile: domicile,\n                status: user.status,\n                telephonNumber: Number(telephonNumber),\n                authorizeBonus: bonusAccess !== null ? bonusAccess : user.authorizeBonus,\n                authorizeVaccine: vaccineAccess !== null ? vaccineAccess : user.authorizeVaccine\n            }\n            console.log('newUser', newUser)\n\n            return await updateUser(tokenData, newUser)\n        }\n        return false\n    }\n\n    const authBonus = async () => {\n        const updateResult = await authorizeBonusAccess(tokenData)\n        if (updateResult) {\n            loadBonuses()\n            setShowBonusAuthorizationRequiredMessage(false)\n            somethingChanged()\n        }\n    }\n\n    const authVaccine = async () => {\n        const updateResult = await authorizeVaccineAccess(tokenData)\n        if (updateResult) {\n            loadVaccines()\n            setShowVaccineAuthorizationRequiredMessage(false)\n            somethingChanged()\n        }\n    }\n\n    const handleVaccineAuthorizationChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        console.log('VACCINI A: ', event.target.checked)\n        setVaccineAccess(event.target.checked)\n    }\n\n    const handleBonusAuthorizationChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n        console.log('BONUS A: ', event.target.checked)\n        setBonusAccess(event.target.checked)\n    }\n\n    useEffect(() => {\n        if (user) {\n            if (activeButton === buttons[0]) {\n                setShowBonusAuthorizationRequiredMessage(false)\n                setShowVaccineAuthorizationRequiredMessage(false)\n            } else if (activeButton === buttons[1]) {\n                setShowBonusAuthorizationRequiredMessage(false)\n                if (!user.authorizeVaccine) {\n                    setShowVaccineAuthorizationRequiredMessage(true)\n                } else {\n                    loadVaccines()\n                }\n            } else if (activeButton === buttons[2]) {\n                setShowVaccineAuthorizationRequiredMessage(false)\n                if (!user.authorizeBonus) {\n                    setShowBonusAuthorizationRequiredMessage(true)\n                } else {\n                    loadBonuses()\n                }\n            }\n        }\n    }, [activeButton])\n\n\n    const handleOperation = async () => {\n        if (activeButton === buttons[0]) {\n            const update = await updateUserData()\n            if (update) {\n                somethingChanged('Dati aggiornati correttamente')\n            }\n\n        } else if (activeButton === buttons[1]) { // qui forse si farà una specie di reload, DA VALUTARE\n        } else if (activeButton === buttons[2]) {\n        }\n    }\n\n    const handleDialogOpen = (data: any) => {\n        if (activeButton === buttons[1]) {\n            setClickedVaccine(data)\n        } else if (activeButton === buttons[2]) {\n            setClickedBonus(data)\n        }\n    }\n\n    const handleDialogClose = () => {\n        setClickedVaccine(null)\n        setClickedBonus(null)\n    }\n\n    const logout = async () => {\n        if (tokenData !== null) {\n            const response = await logoutUser(tokenData)\n            if (typeof response === 'boolean') {\n                if (response) {\n                    navigate('/')\n                } else {\n                    console.log('error')\n                }\n            } else {\n                navigate('/error', {state: {error: response}})\n            }\n        }\n    }\n\n    const goBack = () => {\n        navigate(-1)\n    }\n\n    return (\n        <Grid container direction=\"row\" spacing={2}>\n            <Grid item xs={12} justifyContent=\"center\" alignItems=\"center\" >\n                <Box sx={{ flexGrow: 1 }}>\n                    <AppBar position=\"fixed\" sx={{backgroundColor:'#3d4347' }}>\n                        <Toolbar>\n                            <IconButton\n                                size=\"small\"\n                                edge=\"start\"\n                                aria-label=\"menu\"\n                                sx={{ mr: 2}}\n                            >\n                                <ArrowBackIcon onClick={goBack} sx={{fontSize: '3rem', color: 'white'}}/>\n                            </IconButton>\n                            <Typography variant=\"h6\" component=\"div\" sx={{flexGrow: 1}}\n                                        style={{\n                                            justifyContent: 'center',\n                                            color: 'white',\n                                            textAlign: 'center',\n                                            fontSize: '1.8rem',\n                                        }}>I tuoi dati\n                            </Typography>\n                            <Button sx={{color: 'white', backgroundColor: 'red'}}\n                                onClick={logout}>\n                                logout\n                            </Button>\n                        </Toolbar>\n                    </AppBar>\n                </Box>\n            </Grid>\n            <UpperButtonMenu first_label={buttons[0]} second_label={buttons[1]} third_label={buttons[2]}\n                             first_list={dataList} second_list={vaccinesList} third_list={bonusList}\n                             listSetter={setShowingList} buttonSetter={setActiveButton}/>\n            {\n                showBonusAuthorizationRequiredMessage || showVaccineAuthorizationRequiredMessage ?\n                    <>\n                        <AuthRequired authFor={showVaccineAuthorizationRequiredMessage ? 'Vaccini' : 'Bonus'}\n                                      authFunction={showVaccineAuthorizationRequiredMessage ? authVaccine : authBonus}/>\n                    </>\n                    : null\n            }\n            {\n                activeButton === buttons[2] && bonusList.length === 0 && user && user.authorizeBonus ?\n                    <Grid item xs={12} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <Typography variant=\"h4\" sx={{paddingLeft: '10px', paddingRight:'10px', textAlign: 'center',}}>Non possiedi bonus</Typography>\n\n                    </Grid>: null\n            }\n            {\n                activeButton === buttons[1] && vaccinesList.length === 0 && user && user.authorizeVaccine ?\n                    <Grid item xs={12} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                        <Typography variant=\"h4\" sx={{paddingLeft: '10px', paddingRight:'10px', textAlign: 'center',}}>Non possiedi vaccini</Typography>\n\n                    </Grid>: null\n            }\n            <Grid item xs={12} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                <List sx={{\n                    width: '85%',\n                    overflow: 'auto',\n                    maxHeight: 550,\n                    position: activeButton === buttons[0] ? 'fixed' : (showBonusAuthorizationRequiredMessage || showVaccineAuthorizationRequiredMessage ? null : 'fixed'),\n                    top: '20%',\n                    bottom: '1%'\n                }}>\n                    {\n                        user ?\n                            activeButton === buttons[0] ?\n                                <>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Nome'} defaultValue={user.name} onChange={handleNameChanged}/>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Cognome'} defaultValue={user.surname}\n                                        onChange={handleSurnameChanged}/>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Email'} defaultValue={user.email} InputProps={{readOnly: true}}/>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Numero di telefono'} defaultValue={user.telephonNumber}\n                                        onChange={handleTelephoneNumberChanged}/>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Codice fiscale'} defaultValue={user.fiscalCode}\n                                        onChange={handleFiscalCodeChanged}/>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Residenza'} defaultValue={user.residence}\n                                        onChange={handleResidenceChanged}/>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Domicilio'} defaultValue={user.domicile}\n                                        onChange={handleDomicileChanged}/>\n                                    <LocalizationProvider dateAdapter={AdapterDayjs}>\n                                        <DatePicker\n                                            inputFormat=\"DD/MM/YYYY\"\n                                            label=\"Data di nascita\"\n                                            value={birthDate}\n\n                                            renderInput={(params) => <CssTextField {...params} sx={{\n                                                input: {color: 'white'},\n                                                style: {color: 'white'},\n                                                marginTop: '9px'\n                                            }}/>}\n                                            onChange={(newValue) => {\n                                                handleBirthDateChanged(newValue)\n                                            }}/>\n                                    </LocalizationProvider>\n                                    <CssTextField\n                                        sx={{input: {color: 'white'}, style: {color: 'white'}, marginTop: '9px'}}\n                                        label={'Stato'} defaultValue={user.status} InputProps={{\n                                        readOnly: true,\n                                    }}/>\n                                    <Grid item xs={12} display=\"flex\" justifyContent=\"center\" alignItems=\"center\"\n                                          sx={{marginTop: '10px', fontSize: '3rem'}}>\n                                        <FormControl component='fieldset'>\n                                            <FormLabel component='legend'>\n                                                <Typography\n                                                    sx={{color: 'white', justifyContent: 'center', fontWeight: 'bold'}}>Consenti\n                                                    a CivicLife di accedere a:</Typography>\n                                            </FormLabel>\n                                            <FormGroup aria-label='position' row>\n                                                <FormControlLabel control={\n                                                    <Android12Switch\n                                                        checked={vaccineAccess !== null ? vaccineAccess : false}\n                                                        onChange={handleVaccineAuthorizationChanged}\n                                                        inputProps={{'aria-label': 'controlled'}}\n                                                    />}\n                                                                  label=\"Vaccini?\"\n                                                                  labelPlacement={'top'}/>\n                                                <FormControlLabel control={\n                                                    <Android12Switch\n                                                        checked={bonusAccess !== null ? bonusAccess : false}\n                                                        onChange={handleBonusAuthorizationChanged}\n                                                        inputProps={{'aria-label': 'controlled'}}\n                                                    />}\n                                                                  label=\"Bonus?\"\n                                                                  labelPlacement={'top'}/>\n                                            </FormGroup>\n                                        </FormControl>\n                                    </Grid>\n\n                                </>\n                                :\n                                activeButton === buttons[1] ?\n\n                                    vaccinesList.map((value, index) => {\n                                        return (\n                                            <>\n                                                <ListItemButton onClick={() => handleDialogOpen(value)}>\n                                                    <VaccinesIcon sx={{color: 'white', marginRight: '10px'}}/>\n                                                    <ListItemText primary={value.vaccineName}/>\n                                                </ListItemButton>\n                                                <Divider color={'black'}/>\n                                            </>\n                                        );\n                                    })\n                                    :\n                                    bonusList.map((value, index) => {\n                                            return (\n                                                <>\n                                                    <ListItemButton key={value.id} onClick={() => handleDialogOpen(value)}>\n                                                        <AddBoxIcon sx={{color: 'white', marginRight: '10px'}}/>\n                                                        <ListItemText primary={value.name}/>\n                                                    </ListItemButton>\n                                                    <Divider color={'black'}/>\n                                                </>\n                                            );\n                                        }\n                                    )\n                            : null\n                    }\n\n                </List>\n\n            </Grid>\n            {\n                (showBonusAuthorizationRequiredMessage || showVaccineAuthorizationRequiredMessage) ?\n                    null\n                    :\n                    <Grid item xs={12} display=\"flex\" justifyContent='center' alignItems=\"right\">\n                        <Button style={{\n                            borderRadius: 35,\n                            backgroundColor: \"#92d36e\",\n                            padding: \"10px 20px\",\n                            fontSize: \"18px\",\n                            position:'fixed',\n                            bottom:30\n                        }}\n                                variant=\"contained\"\n                                onClick={() => {\n                                    handleOperation()\n                                }}>\n                            {\n                                activeButton === buttons[0] ? 'Salva' : activeButton === buttons[1] ? 'Aggiungi Vaccino' : 'aggiungi Bonus'\n                            }\n                        </Button>\n                    </Grid>\n            }\n\n\n            <Dialog maxWidth={\"sm\"} fullWidth={true} open={clickedVaccine !== null} onClose={handleDialogClose}>\n                <DialogTitle>Dettagli vaccino</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Nome Vaccino:'} secondary={clickedVaccine ? clickedVaccine.vaccineName : null}/>\n                        <Divider/>\n\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                     primary={'Luogo Somministrazione:'}\n                                     secondary={clickedVaccine ? clickedVaccine.location : null}/>\n                        <Divider/>\n\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Data somministrazione:'}\n                                      secondary={clickedVaccine ? dayjs.unix(clickedVaccine.date).format('D MMMM YYYY').toString() : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Descrizione Vaccino:'}\n                                      secondary={clickedVaccine ? clickedVaccine.description : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Dose n°: '} secondary={clickedVaccine ? clickedVaccine.dose : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Casa produttrice:'}\n                                      secondary={clickedVaccine ? clickedVaccine.manufacturer : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      secondaryTypographyProps={{fontSize: '15px'}}\n                                      primary={'Medico'} secondary={clickedVaccine ? clickedVaccine.doctor : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Infermiere'} secondary={clickedVaccine ? clickedVaccine.nurse : null}/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleDialogClose}>Chiudi</Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog maxWidth={\"sm\"} fullWidth={true} open={clickedBonus !== null} onClose={handleDialogClose}>\n                <DialogTitle>Dettagli bonus</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Nome Bonus'} secondary={clickedBonus ? clickedBonus.name : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Tipo Bonus'} secondary={clickedBonus ? clickedBonus.type : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Data scadenza'}\n                                      secondary={clickedBonus ? dayjs.unix(clickedBonus.end_date / 1000).format('D MMMM YYYY').toString() : null}/>\n                        <Divider/>\n                        <ListItemText primaryTypographyProps={{fontWeight: 'bold'}}\n                                      primary={'Descrizione'}\n                                      secondary={clickedBonus ? clickedBonus.description : null}/>\n\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleDialogClose}>Chiudi</Button>\n                </DialogActions>\n            </Dialog>\n            <Stack spacing={2} sx={{width: '100%'}}>\n                <Snackbar open={open} autoHideDuration={3000} onClose={handleClose}\n                          anchorOrigin={{vertical: \"bottom\", horizontal: 'center'}}>\n                    <Alert onClose={handleClose} severity=\"success\" sx={{width: '100%'}}>\n                        {message}\n                    </Alert>\n                </Snackbar>\n            </Stack>\n        </Grid>\n    );\n}\n\nexport default PersonalData;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}