{"ast":null,"code":"import _regeneratorRuntime from\"/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AppBar,Button,Card,CardActionArea,CardActions,CardContent,CardMedia,Grid,IconButton,List,Typography}from\"@mui/material\";import Box from\"@mui/material/Box\";import React,{useEffect,useState}from\"react\";import personalData from\"../imgs/personaldata.png\";import{useLocation,useNavigate}from\"react-router-dom\";import Toolbar from\"@mui/material/Toolbar\";import ArrowBackIcon from\"@mui/icons-material/ArrowBack\";import{isInstanceOfAuthError,logoutUser}from\"../APIs/OauthAPI\";import{CssTextField}from\"../Utils/CustomComponents\";import{getCandidates,voteForCandidate,voteForParty}from\"../APIs/VotationsAPI\";import GroupsIcon from\"@mui/icons-material/Groups\";import Stack from\"@mui/material/Stack\";import Snackbar from\"@mui/material/Snackbar\";import MuiAlert from\"@mui/material/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PartyDetails=function PartyDetails(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),candidateList=_useState2[0],setCandidateList=_useState2[1];var location=useLocation();var navigate=useNavigate();var party=location.state.party;var tokenData=location.state.token;var isVisitor=location.state.isVisitor;var votation=location.state.votation;var user=location.state.user;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openError=_useState6[0],setOpenError=_useState6[1];var handleCloseError=function handleCloseError(event,reason){if(reason==='clickaway'){return;}setOpenError(false);};var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpen(false);};var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});var hasAlreadyVoted=function hasAlreadyVoted(){return!isVisitor&&votation.votationResult.votersIdList.includes(user.email);};var getCandidatesList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getCandidates(party.name);case 2:response=_context.sent;if(isInstanceOfAuthError(response)){navigate('/error',{state:{error:response}});}else{setCandidateList(response);}case 4:case\"end\":return _context.stop();}},_callee);}));return function getCandidatesList(){return _ref.apply(this,arguments);};}();useEffect(function(){if(party!==undefined&&candidateList===null){getCandidatesList();}},[]);var handleCandidateDetailsOpen=function handleCandidateDetailsOpen(value){navigate('/votations/votationDetails/partyDetails/candidateDetails',{state:{token:tokenData,user:user,votation:votation,party:party,candidate:value,hasVoted:hasAlreadyVoted(),isVisitor:isVisitor}});};var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(tokenData!==null)){_context2.next=5;break;}_context2.next=3;return logoutUser(tokenData);case 3:response=_context2.sent;if(typeof response==='boolean'){if(response){navigate('/');}else{console.log('error');}}else{navigate('/error',{state:{error:response}});}case 5:case\"end\":return _context2.stop();}},_callee2);}));return function logout(){return _ref2.apply(this,arguments);};}();var voteParty=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return voteForParty(tokenData,votation.title,party.name);case 2:response=_context3.sent;if(typeof response==='boolean'){if(response){setOpen(true);navigate('/votations/',{state:{token:tokenData,user:user,isVisitor:isVisitor}});}else{setOpenError(true);}}else{navigate('/error',{state:{error:response}});}case 4:case\"end\":return _context3.stop();}},_callee3);}));return function voteParty(){return _ref3.apply(this,arguments);};}();var voteCandidate=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(value){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return voteForCandidate(tokenData,votation.title,party.name,value.id);case 2:response=_context4.sent;if(typeof response==='boolean'){if(response){setOpen(true);navigate('/votations/',{state:{token:tokenData,user:user,isVisitor:isVisitor}});}else{setOpenError(true);}}else{navigate('/error',{state:{error:response}});}case 4:case\"end\":return _context4.stop();}},_callee4);}));return function voteCandidate(_x){return _ref4.apply(this,arguments);};}();var goBack=function goBack(){navigate(-1);};var login=function login(){window.location.assign('http://172.19.0.10:8080/login');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,direction:\"row\",spacing:5,children:/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},children:/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",sx:{backgroundColor:'#3d4347'},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",edge:\"start\",\"aria-label\":\"menu\",sx:{mr:2},children:/*#__PURE__*/_jsx(ArrowBackIcon,{onClick:goBack,sx:{fontSize:'3rem',color:'white'}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},style:{justifyContent:'center',color:'#feac0d',textAlign:'center',fontSize:'1.8rem'},children:party.name}),/*#__PURE__*/_jsx(Button,{onClick:isVisitor?login:logout,style:{color:'white',backgroundColor:isVisitor?\"green\":\"red\"},children:isVisitor?\"login\":\"logout\"})]})})})}),/*#__PURE__*/_jsxs(Grid,{container:true,display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",sx:{width:'100%',marginTop:'80px'},spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,display:\"flex\",justifyContent:\"center\",alignItems:\"right\",children:party.logoLink?/*#__PURE__*/_jsx(\"img\",{style:{width:230,height:200},alt:party.name,src:party.logoLink}):/*#__PURE__*/_jsx(GroupsIcon,{})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Box,{sx:{width:'100%',height:'100%',border:'2.5px solid #feac0d'},children:/*#__PURE__*/_jsx(CssTextField,{sx:{input:{color:'white'},width:'100%',height:'100%'},value:party.description,maxRows:5,multiline:true,InputProps:{readOnly:true,inputProps:{style:{color:'white'}}}})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:user&&user.admin?null:user&&!hasAlreadyVoted()?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,display:\"flex\",justifyContent:\"center\",alignItems:\"right\",children:/*#__PURE__*/_jsx(Button,{style:{borderRadius:35,backgroundColor:\"#ff3823\",padding:\"10px 20px\",fontSize:\"18px\"},onClick:voteParty,variant:\"contained\",children:\"VOTA Partito\"})}):null}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,display:\"flex\",justifyContent:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(List,{sx:{width:'100%',overflow:'auto',maxHeight:580},children:/*#__PURE__*/_jsx(Grid,{container:true,direction:\"column\",justifyContent:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Box,{sx:{width:'70%',height:'100%'},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,alignContent:\"center\",wrap:\"wrap\",style:{width:'100%'},children:candidateList?candidateList.map(function(value,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Card,{sx:{maxWidth:345,margin:'20px'},children:[/*#__PURE__*/_jsxs(CardActionArea,{onClick:function onClick(){handleCandidateDetailsOpen(value);},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:value.imageLink?value.imageLink:personalData,alt:value.name}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:[value.name,\" \",value.surname]})})]}),user&&user.admin?null:user&&!hasAlreadyVoted()?/*#__PURE__*/_jsx(CardActions,{style:{alignItems:'center'},children:/*#__PURE__*/_jsx(Button,{size:\"large\",onClick:function onClick(){voteCandidate(value);},style:{color:'#ff3823',width:'100%'},children:\"Vota Candidato\"})}):null]})});}):null})})})})})]}),/*#__PURE__*/_jsx(Stack,{spacing:2,sx:{width:'100%'},children:/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:3000,onClose:handleClose,anchorOrigin:{vertical:\"bottom\",horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"success\",sx:{width:'100%'},children:\"Voto registrato con successo!\"})})}),/*#__PURE__*/_jsx(Stack,{spacing:2,sx:{width:'100%'},children:/*#__PURE__*/_jsx(Snackbar,{open:openError,autoHideDuration:3000,onClose:handleCloseError,anchorOrigin:{vertical:\"bottom\",horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseError,severity:\"warning\",sx:{width:'100%'},children:\"Non \\xE8 stato possibile registrare il voto! Riprova pi\\xF9 tardi.\"})})})]});};export default PartyDetails;","map":{"version":3,"names":["AppBar","Button","Card","CardActionArea","CardActions","CardContent","CardMedia","Grid","IconButton","List","Typography","Box","React","useEffect","useState","personalData","useLocation","useNavigate","Toolbar","ArrowBackIcon","isInstanceOfAuthError","logoutUser","CssTextField","getCandidates","voteForCandidate","voteForParty","GroupsIcon","Stack","Snackbar","MuiAlert","PartyDetails","candidateList","setCandidateList","location","navigate","party","state","tokenData","token","isVisitor","votation","user","open","setOpen","openError","setOpenError","handleCloseError","event","reason","handleClose","Alert","forwardRef","props","ref","hasAlreadyVoted","votationResult","votersIdList","includes","email","getCandidatesList","name","response","error","undefined","handleCandidateDetailsOpen","value","candidate","hasVoted","logout","console","log","voteParty","title","voteCandidate","id","goBack","login","window","assign","flexGrow","backgroundColor","mr","fontSize","color","justifyContent","textAlign","width","marginTop","logoLink","height","border","input","description","readOnly","inputProps","style","admin","borderRadius","padding","overflow","maxHeight","map","index","maxWidth","margin","imageLink","surname","alignItems","vertical","horizontal"],"sources":["/home/michelestaffieri/Documenti/Taass/CivicLife/CivicLife/frontend/src/Vote/PartyDetails.tsx"],"sourcesContent":["import {\n    AppBar,\n    Button,\n    Card,\n    CardActionArea,\n    CardActions,\n    CardContent,\n    CardMedia,\n    Grid,\n    IconButton,\n    List,\n    Typography\n} from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\n\n\nimport React, {useEffect, useState} from \"react\";\n\nimport personalData from \"../imgs/personaldata.png\"\nimport {useLocation, useNavigate} from \"react-router-dom\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport {isInstanceOfAuthError, logoutUser, TokenData} from \"../APIs/OauthAPI\";\nimport {CssTextField} from \"../Utils/CustomComponents\";\nimport {Candidate, getCandidates, Party, Votation, voteForCandidate, voteForParty} from \"../APIs/VotationsAPI\";\nimport GroupsIcon from \"@mui/icons-material/Groups\";\nimport Stack from \"@mui/material/Stack\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert, {AlertProps} from \"@mui/material/Alert\";\nimport {User} from \"../APIs/UsersAPI\";\n\nconst PartyDetails = () => {\n\n    const [candidateList, setCandidateList] = useState<any[]|null>(null)\n    const location = useLocation()\n    const navigate = useNavigate()\n    const party : Party= location.state.party\n    const tokenData : TokenData= location.state.token\n    const isVisitor : boolean= location.state.isVisitor\n    const votation :Votation= location.state.votation\n    const user : User = location.state.user\n\n    const [open, setOpen] = useState(false);\n    const [openError, setOpenError] = useState(false);\n\n    const handleCloseError = (event?: React.SyntheticEvent| Event, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpenError(false);\n    }\n\n    const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpen(false);\n    };\n\n    const Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n        props,\n        ref,\n    ) {\n        return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n    });\n\n    const hasAlreadyVoted = () : boolean=> {\n        return !isVisitor && votation.votationResult.votersIdList.includes(user.email)\n    }\n\n    const getCandidatesList = async () => {\n        const response= await getCandidates(party.name)\n        if(isInstanceOfAuthError(response)) {\n            navigate('/error', {state: {error: response}})\n        }\n        else{\n            setCandidateList(response)\n        }\n    }\n\n    useEffect(() => {\n        if(party !== undefined && candidateList===null) {\n            getCandidatesList()\n        }\n\n    },[])\n\n    const handleCandidateDetailsOpen = (value: any) => {\n        navigate('/votations/votationDetails/partyDetails/candidateDetails', {\n            state: {\n                token: tokenData,\n                user: user,\n                votation: votation,\n                party: party,\n                candidate: value,\n                hasVoted: hasAlreadyVoted(),\n                isVisitor: isVisitor\n            }\n        })\n    }\n\n    const logout = async () => {\n        if (tokenData !== null) {\n            const response = await logoutUser(tokenData)\n            if (typeof response === 'boolean') {\n                if (response) {\n                    navigate('/')\n                } else {\n                    console.log('error')\n                }\n            } else {\n                navigate('/error', {state: {error: response}})\n            }\n        }\n    }\n\n    const voteParty = async () => {\n        const response= await voteForParty(tokenData, votation.title, party.name)\n        if(typeof response === 'boolean') {\n            if(response) {\n                setOpen(true)\n                navigate('/votations/', {state: {token: tokenData, user: user, isVisitor: isVisitor}})\n            }\n            else{\n                setOpenError(true)\n            }\n        }else{\n            navigate('/error', {state: {error: response}})\n        }\n    }\n\n    const voteCandidate = async (value: Candidate) => {\n        const response = await voteForCandidate(tokenData, votation.title, party.name, value.id)\n        if(typeof response === 'boolean') {\n            if(response) {\n                setOpen(true)\n                navigate('/votations/', {state: {token: tokenData, user: user, isVisitor: isVisitor}})\n            }\n            else{\n                setOpenError(true)\n            }\n        }else{\n            navigate('/error', {state: {error: response}})\n        }\n    }\n\n    const goBack = () => {\n        navigate(-1)\n    }\n\n    const login = () => {\n        window.location.assign('http://172.19.0.10:8080/login')\n    }\n\n\n    return (\n        <>\n            <Grid container direction='row' spacing={5}>\n                <Box sx={{flexGrow: 1}}>\n                    <AppBar position=\"fixed\" sx={{backgroundColor: '#3d4347'}}>\n                        <Toolbar>\n                            <IconButton\n                                size=\"small\"\n                                edge=\"start\"\n                                aria-label=\"menu\"\n                                sx={{mr: 2}}\n                            >\n                                <ArrowBackIcon onClick={goBack} sx={{fontSize: '3rem', color: 'white'}}/>\n                            </IconButton>\n\n                            <Typography variant=\"h6\" component=\"div\" sx={{flexGrow: 1}}\n                                        style={{\n                                            justifyContent: 'center',\n                                            color: '#feac0d',\n                                            textAlign: 'center',\n                                            fontSize: '1.8rem',\n                                        }}>\n                                {party.name}\n                            </Typography>\n                            <Button\n                                onClick={isVisitor ? login : logout}\n                                style={{\n                                    color: 'white',\n                                    backgroundColor: isVisitor ? \"green\" : \"red\",\n                                }}>\n\n                                {isVisitor ? \"login\" : \"logout\"}\n                            </Button>\n                        </Toolbar>\n                    </AppBar>\n                </Box>\n            </Grid>\n            <Grid container display=\"flex\" justifyContent=\"flex-start\" alignItems=\"center\"\n                  sx={{width: '100%', marginTop: '80px'}} spacing={3}>\n\n                <Grid item xs={12} display=\"flex\" justifyContent='center' alignItems=\"right\">\n                        {\n                            party.logoLink ? <img style={{width:230, height:200}} alt={party.name} src={party.logoLink}/> :\n                                <GroupsIcon/>\n                        }\n                </Grid>\n                <Grid item xs={12}>\n                    <Box sx={{width: '100%', height: '100%', border: '2.5px solid #feac0d',}}>\n                        <CssTextField\n                            sx={{input: {color: 'white'}, width: '100%', height: '100%',}}\n                            value={party.description}\n                            maxRows={5}\n                            multiline\n                            InputProps={{\n                                readOnly: true,\n                                inputProps: {\n                                    style: {\n                                        color: 'white',\n                                    }\n                                }\n                            }}/>\n                    </Box>\n                </Grid>\n                <Grid item xs={12}>\n                    {\n                        (user && user.admin) ? null : user && !hasAlreadyVoted() ?\n                            <Grid item xs={12} display=\"flex\" justifyContent='center' alignItems=\"right\">\n                                <Button style={{\n                                    borderRadius: 35,\n                                    backgroundColor: \"#ff3823\",\n                                    padding: \"10px 20px\",\n                                    fontSize: \"18px\"\n                                }}\n                                        onClick={voteParty}\n                                        variant=\"contained\">\n                                    VOTA Partito\n                                </Button>\n                            </Grid> : null\n                    }\n                </Grid>\n                <Grid item xs={12} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                    <List sx={{\n                        width: '100%',\n                        overflow: 'auto',\n                        maxHeight: 580,\n                    }}>\n                    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\n                        <Box sx={{width: '70%', height: '100%'}}>\n                            <Grid\n                                container\n                                spacing={1}\n                                alignContent=\"center\"\n                                wrap=\"wrap\"\n                                style={{width: '100%'}}\n                            >\n                                {candidateList ? candidateList.map((value, index) => {\n                                    return (\n                                        <>\n                                            <Card sx={{maxWidth: 345, margin: '20px'}}>\n                                                <CardActionArea onClick={() => {\n                                                    handleCandidateDetailsOpen(value)\n                                                }}>\n                                                    <CardMedia\n                                                        component=\"img\"\n                                                        image={value.imageLink ? value.imageLink: personalData}\n                                                        alt={value.name}\n                                                    />\n                                                    <CardContent>\n                                                        <Typography gutterBottom variant=\"h5\" component=\"div\">\n                                                            {value.name} {value.surname}\n                                                        </Typography>\n                                                    </CardContent>\n                                                </CardActionArea>\n                                                {\n                                                    user && user.admin ? null : user && !hasAlreadyVoted()?\n                                                        <CardActions style={{alignItems: 'center'}}>\n                                                            <Button size=\"large\" onClick={() => {voteCandidate(value)}}\n                                                                    style={{color: '#ff3823', width: '100%'}}>Vota\n                                                                Candidato</Button>\n                                                        </CardActions> : null\n                                                }\n                                            </Card>\n\n                                        </>\n                                    );\n                                }): null}\n                            </Grid>\n                        </Box>\n                    </Grid>\n                    </List>\n                </Grid>\n            </Grid>\n            <Stack spacing={2} sx={{width: '100%'}}>\n                <Snackbar open={open} autoHideDuration={3000} onClose={handleClose}\n                          anchorOrigin={{vertical: \"bottom\", horizontal: 'center'}}>\n                    <Alert onClose={handleClose} severity=\"success\" sx={{width: '100%'}}>\n                        Voto registrato con successo!\n                    </Alert>\n                </Snackbar>\n            </Stack>\n            <Stack spacing={2} sx={{width: '100%'}}>\n                <Snackbar open={openError} autoHideDuration={3000} onClose={handleCloseError}\n                          anchorOrigin={{vertical: \"bottom\", horizontal: 'center'}}>\n                    <Alert onClose={handleCloseError} severity=\"warning\" sx={{width: '100%'}}>\n                        Non è stato possibile registrare il voto! Riprova più tardi.\n                    </Alert>\n                </Snackbar>\n            </Stack>\n        </>\n    );\n}\n\nexport default PartyDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}